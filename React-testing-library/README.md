### React Testing Library ржХрж┐?

React Testing Library (RTL) рж╣рж▓рзЛ React ржХржорзНржкрзЛржирзЗржирзНржЯ ржЯрзЗрж╕рзНржЯрж┐ржВрзЯрзЗрж░ ржЬржирзНржп ржПржХржЯрж┐ ржЬржиржкрзНрж░рж┐ржпрж╝ ржЬрж╛ржнрж╛рж╕рзНржХрзНрж░рж┐ржкрзНржЯ рж▓рж╛ржЗржмрзНрж░рзЗрж░рж┐ред ржПржЯрж┐ DOM ржЯрзЗрж╕рзНржЯрж┐ржВ рж▓рж╛ржЗржмрзНрж░рзЗрж░рж┐рж░ ржЙржкрж░ ржнрж┐рждрзНрждрж┐ ржХрж░рзЗ рждрзИрж░рж┐ ржПржмржВ React ржХржорзНржкрзЛржирзЗржирзНржЯрзЗрж░ рж╕рж╛ржерзЗ ржХрж╛ржЬ ржХрж░рж╛рж░ ржЬржирзНржп ржЕрждрж┐рж░рж┐ржХрзНржд API ржпрзБржХрзНржд ржХрж░рзЗред ржПрж░ ржорзВрж▓ ржжрж░рзНрж╢ржи рж╣рж▓рзЛ, **"The more your tests resemble the way your software is used, the more confidence they can give you."** ЁЯзР

ржПрж░ ржорж╛ржирзЗ рж╣рж▓рзЛ, ржЖржкржирж╛рж░ ржЯрзЗрж╕рзНржЯржЧрзБрж▓рзЛ ржпржд ржмрзЗрж╢рж┐ ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАрж░ ржорждрзЛ ржХрж░рзЗ рж╕ржлржЯржУржпрж╝рзНржпрж╛рж░ржЯрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмрзЗ, рждржд ржмрзЗрж╢рж┐ ржирж┐рж░рзНржнрж░ржпрзЛржЧрзНржп рж╣ржмрзЗред RTL ржЖржкржирж╛ржХрзЗ ржХржорзНржкрзЛржирзЗржирзНржЯрзЗрж░ ржЕржнрзНржпржирзНрждрж░рзАржг ржмрж╛рж╕рзНрждржмрж╛ржпрж╝ржи (implementation details) ржкрж░рзАржХрзНрж╖рж╛ ржХрж░рж╛рж░ ржкрж░рж┐ржмрж░рзНрждрзЗ, ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАрж░рж╛ ржпрж╛ ржжрзЗржЦрждрзЗ ржПржмржВ ржХрж░рждрзЗ ржкрж╛рж░рзЗ, рждрж╛ ржкрж░рзАржХрзНрж╖рж╛ ржХрж░рждрзЗ ржЙрзОрж╕рж╛рж╣рж┐ржд ржХрж░рзЗред

---

### React Testing Library ржПрж░ рж╕рзБржмрж┐ржзрж╛

- **ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзА-ржХрзЗржирзНржжрзНрж░рж┐ржХ ржЯрзЗрж╕рзНржЯрж┐ржВ:** ржПржЯрж┐ ржЖржкржирж╛ржХрзЗ ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАрж░ ржжрзГрж╖рзНржЯрж┐ржХрзЛржг ржерзЗржХрзЗ ржЯрзЗрж╕рзНржЯ рж▓рж┐ржЦрждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗред ржпрзЗржоржитАФржПржХржЬржи ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзА ржПржХржЯрж┐ Button ржжрзЗржЦрждрзЗ ржкрж╛ржЪрзНржЫрзЗ ржХрж┐ржирж╛, рж╕рзЗржЯрж┐рждрзЗ ржХрзНрж▓рж┐ржХ ржХрж░рждрзЗ ржкрж╛рж░ржЫрзЗ ржХрж┐ржирж╛, ржмрж╛ ржПржХржЯрж┐ ржлрж░рзНржо ржкрзВрж░ржг ржХрж░рждрзЗ ржкрж╛рж░ржЫрзЗ ржХрж┐ржирж╛ред
- **рж╕рж╣ржЬ рж░ржХрзНрж╖ржгрж╛ржмрзЗржХрзНрж╖ржг:** ржпрзЗрж╣рзЗрждрзБ ржЖржкржирж┐ ржХржорзНржкрзЛржирзЗржирзНржЯрзЗрж░ ржЕржнрзНржпржирзНрждрж░рзАржг рж╕рзНржЯрзЗржЯ ржмрж╛ ржлрж╛ржВрж╢ржи ржкрж░рзАржХрзНрж╖рж╛ ржХрж░ржЫрзЗржи ржирж╛, рждрж╛ржЗ ржХрзЛржб рж░рж┐ржлрзНржпрж╛ржХрзНржЯрж░ (refactor) ржХрж░рж▓рзЗржУ ржЖржкржирж╛рж░ ржЯрзЗрж╕рзНржЯржЧрзБрж▓рзЛ рж╕рж╣ржЬрзЗ ржнрж╛ржЩрзЗ ржирж╛, ржпрждржХрзНрж╖ржг ржкрж░рзНржпржирзНржд ржХржорзНржкрзЛржирзЗржирзНржЯрзЗрж░ ржмрж╛рж╣рзНржпрж┐ржХ ржЖржЪрж░ржг ржарж┐ржХ ржерж╛ржХрзЗред
- **ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕рж┐ржмрж┐рж▓рж┐ржЯрж┐ (Accessibility):** RTL ржПржоржи ржХрзЛржпрж╝рзЗрж░рж┐ (query) ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржЙрзОрж╕рж╛рж╣рж┐ржд ржХрж░рзЗ ржпрж╛ рж╕рж╣рж╛ржпрж╝ржХ ржкрзНрж░ржпрзБржХрзНрждрж┐ (assistive technologies) ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАржжрзЗрж░ ржЕржнрж┐ржЬрзНржЮрждрж╛ржХрзЗ ржкрзНрж░рждрж┐ржлрж▓рж┐ржд ржХрж░рзЗред ржпрзЗржоржитАФ`getByRole`, `getByLabelText` ржЗрждрзНржпрж╛ржжрж┐ред ржПржЯрж┐ ржЖржкржирж╛ржХрзЗ ржЖрж░ржУ ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕рж┐ржмрж▓ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи рждрзИрж░рж┐ ржХрж░рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗред

---

### ржХрж┐ржнрж╛ржмрзЗ React Testing Library ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрж╛ржпрж╝?

RTL ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛рж░ ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛ржЯрж┐ ржХржпрж╝рзЗржХржЯрж┐ ржзрж╛ржкрзЗ ржмрж┐ржнржХрзНржд:

**рзз. рж░рзЗржирзНржбрж╛рж░ (Render):**
ржкрзНрж░ржержорзЗ, `render` ржлрж╛ржВрж╢ржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЖржкржирж╛рж░ ржХржорзНржкрзЛржирзЗржирзНржЯржЯрж┐ржХрзЗ ржПржХржЯрж┐ ржнрж╛рж░рзНржЪрзБржпрж╝рж╛рж▓ DOM-ржП рж░рзЗржирзНржбрж╛рж░ ржХрж░рждрзЗ рж╣ржмрзЗред

```jsx
import { render, screen } from '@testing-library/react';
import MyComponent from './MyComponent';

test('renders a welcome message', () => {
  render(<MyComponent />);
  // ...ржмрж╛ржХрж┐ ржЯрзЗрж╕рзНржЯ ржПржЦрж╛ржирзЗ рж▓рзЗржЦрж╛ рж╣ржмрзЗ
});
```

**рзи. ржПрж▓рж┐ржорзЗржирзНржЯ ржЦрзБржБржЬрзЗ ржмрзЗрж░ ржХрж░рж╛ (Querying):**
ржХржорзНржкрзЛржирзЗржирзНржЯ рж░рзЗржирзНржбрж╛рж░ ржХрж░рж╛рж░ ржкрж░, ржЖржкржирж╛ржХрзЗ ржмрж┐ржнрж┐ржирзНржи **ржХрзЛржпрж╝рзЗрж░рж┐** ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ DOM ржерзЗржХрзЗ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржПрж▓рж┐ржорзЗржирзНржЯ ржЦрзБржБржЬрзЗ ржмрзЗрж░ ржХрж░рждрзЗ рж╣ржмрзЗред RTL ржмрж┐ржнрж┐ржирзНржи ржзрж░ржирзЗрж░ ржХрзЛржпрж╝рзЗрж░рж┐ ржкрзНрж░ржжрж╛ржи ржХрж░рзЗ, рждржмрзЗ ржЕржЧрзНрж░рж╛ржзрж┐ржХрж╛рж░рзЗрж░ ржнрж┐рждрзНрждрж┐рждрзЗ ржХрж┐ржЫрзБ ржЬржиржкрзНрж░рж┐ржпрж╝ ржХрзЛржпрж╝рзЗрж░рж┐ рж╣рж▓рзЛ:

- **`getByRole`:** ржПржЯрж┐ рж╕ржмржЪрзЗржпрж╝рзЗ ржкржЫржирзНржжрзЗрж░ ржХрзЛржпрж╝рзЗрж░рж┐, ржХрж╛рж░ржг ржПржЯрж┐ ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕рж┐ржмрж┐рж▓рж┐ржЯрж┐рж░ ржЙржкрж░ ржнрж┐рждрзНрждрж┐ ржХрж░рзЗ ржПрж▓рж┐ржорзЗржирзНржЯ ржЦрзБржБржЬрзЗ ржмрзЗрж░ ржХрж░рзЗред ржпрзЗржоржитАФ`role="button"`, `role="checkbox"`ред
- **`getByLabelText`:** ржлрж░рзНржо ржЗржиржкрзБржЯ ржЦрзБржБржЬрзЗ ржмрзЗрж░ ржХрж░рж╛рж░ ржЬржирзНржп ржПржЯрж┐ ржЦрзБржмржЗ ржХрж╛рж░рзНржпржХрж░ред
- **`getByText`:** ржпрзЗржХрзЛржирзЛ ржЯрзЗржХрзНрж╕ржЯ ржХржирзНржЯрзЗржирзНржЯрзЗрж░ ржЙржкрж░ ржнрж┐рждрзНрждрж┐ ржХрж░рзЗ ржПрж▓рж┐ржорзЗржирзНржЯ ржЦрзБржБржЬрзЗ ржмрзЗрж░ ржХрж░рзЗред
- **`getByTestId`:** ржпржЦржи ржЕржирзНржп ржХрзЛржирзЛ ржЙржкрж╛ржпрж╝рзЗ ржПрж▓рж┐ржорзЗржирзНржЯ ржЦрзБржБржЬрзЗ ржмрзЗрж░ ржХрж░рж╛ ржХржарж┐ржи рж╣ржпрж╝, рждржЦржи ржПржЗ ржЕрзНржпрж╛ржЯрзНрж░рж┐ржмрж┐ржЙржЯржЯрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрзЗрждрзЗ ржкрж╛рж░рзЗред

```jsx
// ржПржХржЯрж┐ Button ржЦрзБржБржЬрзЗ ржмрзЗрж░ ржХрж░рж╛
const buttonElement = screen.getByRole('button', { name: /click me/i });
```

**рзй. ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАрж░ ржЖржЪрж░ржг ржЕржирзБржХрж░ржг ржХрж░рж╛ (User Interaction):**
ржПрж▓рж┐ржорзЗржирзНржЯ ржЦрзБржБржЬрзЗ ржмрзЗрж░ ржХрж░рж╛рж░ ржкрж░, `@testing-library/user-event` ржкрзНржпрж╛ржХрзЗржЬржЯрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЖржкржирж┐ ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАрж░ ржмрж┐ржнрж┐ржирзНржи ржЖржЪрж░ржг (interaction), ржпрзЗржоржитАФржХрзНрж▓рж┐ржХ ржХрж░рж╛, ржЯрж╛ржЗржк ржХрж░рж╛ ржЗрждрзНржпрж╛ржжрж┐ ржЕржирзБржХрж░ржг ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред

```jsx
import userEvent from '@testing-library/user-event';

// Button ржХрзНрж▓рж┐ржХ ржХрж░рж╛
await userEvent.click(buttonElement);
```

**рзк. ржпрж╛ржЪрж╛ржЗ ржХрж░рж╛ (Assertion):**
рж╕ржмрж╢рзЗрж╖рзЗ, `expect` ржлрж╛ржВрж╢ржи (ржпрж╛ Jest ржЯрзЗрж╕рзНржЯрж┐ржВ ржлрзНрж░рзЗржоржУржпрж╝рж╛рж░рзНржХ ржерзЗржХрзЗ ржЖрж╕рзЗ) ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЖржкржирж┐ ржпрж╛ржЪрж╛ржЗ ржХрж░ржмрзЗржи ржпрзЗ, ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАрж░ ржЖржЪрж░ржгрзЗрж░ ржкрж░ ржЖржкржирж╛рж░ ржХржорзНржкрзЛржирзЗржирзНржЯржЯрж┐ ржкрзНрж░рждрзНржпрж╛рж╢рж┐ржд ржЕржмрж╕рзНржерж╛ржпрж╝ ржЖржЫрзЗ ржХрж┐ржирж╛ред

```jsx
// ржпрж╛ржЪрж╛ржЗ ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ ржпрзЗ ржПржХржЯрж┐ ржмрж╛рж░рзНрждрж╛ ржкрзНрж░ржжрж░рзНрж╢рж┐ржд рж╣ржЪрзНржЫрзЗ
const messageElement = screen.getByText(/button was clicked/i);
expect(messageElement).toBeInTheDocument();
```

---

### ржПржХржЯрж┐ ржкрзВрж░рзНржгрж╛ржЩрзНржЧ ржЙржжрж╛рж╣рж░ржг

ржЖрж╕рзБржи, ржПржХржЯрж┐ ржмрзЛрждрж╛ржорзЗрж░ рж░ржЩ ржкрж░рж┐ржмрж░рзНрждржирзЗрж░ ржПржХржЯрж┐ ржЯрзЗрж╕рзНржЯ ржХрзЗрж╕ ржжрзЗржЦрж┐:

**ржХржорзНржкрзЛржирзЗржирзНржЯ (`ColorButton.jsx`):**

```jsx
import { useState } from 'react';

export default function ColorButton() {
  const [color, setColor] = useState('red');
  const newColor = color === 'red' ? 'blue' : 'red';

  return (
    <button
      style={{ backgroundColor: color }}
      onClick={() => setColor(newColor)}
    >
      Change to {newColor}
    </button>
  );
}
```

**ржЯрзЗрж╕рзНржЯ (`ColorButton.test.js`):**

```jsx
import { render, screen } from '@testing-library/react';
import userEvent from '@testing-library/user-event';
import ColorButton from './ColorButton';

test('button has correct initial color and updates when clicked', async () => {
  // 1. ржХржорзНржкрзЛржирзЗржирзНржЯ рж░рзЗржирзНржбрж╛рж░ ржХрж░рж╛
  render(<ColorButton />);

  // 2. ржмрзЛрждрж╛ржоржЯрж┐ ржЦрзБржБржЬрзЗ ржмрзЗрж░ ржХрж░рж╛ ржПржмржВ ржкрзНрж░рж╛ржержорж┐ржХ ржЕржмрж╕рзНржерж╛ ржпрж╛ржЪрж╛ржЗ ржХрж░рж╛
  const colorButton = screen.getByRole('button', { name: /change to blue/i });
  expect(colorButton).toHaveStyle({ backgroundColor: 'red' });

  // 3. ржмрзЛрждрж╛ржорзЗ ржХрзНрж▓рж┐ржХ ржХрж░рж╛
  await userEvent.click(colorButton);

  // 4. ржХрзНрж▓рж┐ржХрзЗрж░ ржкрж░ ржЕржмрж╕рзНржерж╛ ржпрж╛ржЪрж╛ржЗ ржХрж░рж╛
  expect(colorButton).toHaveStyle({ backgroundColor: 'blue' });
  expect(colorButton).toHaveTextContent('Change to red');
});
```

ржПржЗ ржЙржжрж╛рж╣рж░ржгржЯрж┐ ржжрзЗржЦрж╛ржпрж╝ ржХрж┐ржнрж╛ржмрзЗ React Testing Library ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржПржХржЯрж┐ ржХржорзНржкрзЛржирзЗржирзНржЯрзЗрж░ рж╕ржорзНржкрзВрж░рзНржг ржХрж╛рж░рзНржпржХрж╛рж░рж┐рждрж╛ ржПржХржЬржи ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАрж░ ржжрзГрж╖рзНржЯрж┐ржХрзЛржг ржерзЗржХрзЗ ржкрж░рзАржХрзНрж╖рж╛ ржХрж░рж╛ ржпрж╛ржпрж╝ред ЁЯЪА
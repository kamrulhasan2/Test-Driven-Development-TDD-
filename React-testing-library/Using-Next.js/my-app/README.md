## Next.js ржПржмржВ React Testing Library: ржПржХржЯрж┐ ржкрзВрж░рзНржгрж╛ржЩрзНржЧ ржЧрж╛ржЗржб ЁЯЪА

ржПржЗ ржЧрж╛ржЗржбрзЗ ржЖржорж░рж╛ ржПржХржЯрж┐ Next.js ржкрзНрж░ржЬрзЗржХрзНржЯрзЗ Jest ржПржмржВ React Testing Library (RTL) ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржХржорзНржкрзЛржирзЗржирзНржЯ ржЯрзЗрж╕рзНржЯрж┐ржВ ржПржиржнрж╛рзЯрж░ржиржорзЗржирзНржЯ рж╕рзЗржЯржЖржк ржХрж░рж╛рж░ ржкрзНрж░ржХрзНрж░рж┐рзЯрж╛ржЯрж┐ ржзрж╛ржкрзЗ ржзрж╛ржкрзЗ рж╢рж┐ржЦржмред Next.js-ржПрж░ ржЬржирзНржп Jest рж╣рж▓рзЛ ржкрзНрж░рж╕рзНрждрж╛ржмрж┐ржд ржЯрзЗрж╕рзНржЯрж┐ржВ ржлрзНрж░рзЗржоржУрзЯрж╛рж░рзНржХред

### ржХрзЗржи Jest ржПржмржВ RTL?

- **Next.js Integration:** Next.js ржирж┐ржЬрзЗ ржерзЗржХрзЗржЗ Jest-ржПрж░ ржЬржирзНржп ржПржХржЯрж┐ ржбрж┐ржлрж▓рзНржЯ ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи ржкрзНрж░ржжрж╛ржи ржХрж░рзЗ, ржпрж╛ рж╕рзЗржЯржЖржк ржкрзНрж░ржХрзНрж░рж┐рзЯрж╛ржХрзЗ ржЕржирзЗржХ рж╕рж╣ржЬ ржХрж░рзЗ ржжрзЗрзЯред
- **Jest:** ржПржЯрж┐ ржПржХржЯрж┐ рж╢ржХрзНрждрж┐рж╢рж╛рж▓рзА ржПржмржВ ржЬржиржкрзНрж░рж┐рзЯ ржЬрж╛ржнрж╛рж╕рзНржХрзНрж░рж┐ржкрзНржЯ ржЯрзЗрж╕рзНржЯрж┐ржВ ржлрзНрж░рзЗржоржУрзЯрж╛рж░рзНржХ, ржпрж╛ ржлрж┐ржЪрж╛рж░-рж╕ржорзГржжрзНржз ржПржмржВ ржлрзЗрж╕ржмрзБржХ ржжрзНржмрж╛рж░рж╛ рж╕ржорж░рзНржерж┐рждред
- **React Testing Library (RTL):** ржПржЯрж┐ ржЖржкржирж╛ржХрзЗ ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАрж░ ржорждрзЛ ржХрж░рзЗ ржЖржкржирж╛рж░ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи ржкрж░рзАржХрзНрж╖рж╛ ржХрж░рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗ, ржпрж╛ ржЯрзЗрж╕рзНржЯржЧрзБрж▓рзЛржХрзЗ ржЖрж░ржУ ржирж┐рж░рзНржнрж░ржпрзЛржЧрзНржп ржУ ржмрж╛рж╕рзНрждржмрж╕ржорзНржоржд ржХрж░рзЗ рждрзЛрж▓рзЗред

---

### ржзрж╛ржк рзз: ржирждрзБржи Next.js ржкрзНрж░ржЬрзЗржХрзНржЯ рждрзИрж░рж┐ ржХрж░рзБржи

ржкрзНрж░ржержорзЗ, ржЯрж╛рж░рзНржорж┐ржирж╛рж▓ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржПржХржЯрж┐ ржирждрзБржи Next.js ржкрзНрж░ржЬрзЗржХрзНржЯ рждрзИрж░рж┐ ржХрж░рзБржиред `create-next-app` ржЖржкржирж╛ржХрзЗ TypeScript, ESLint ржЗрждрзНржпрж╛ржжрж┐ рж╕рзЗржЯржЖржк ржХрж░рждрзЗ ржмрж▓ржмрзЗ, ржпрж╛ ржЖржкржирж┐ ржЖржкржирж╛рж░ ржкржЫржирзНржж ржЕржирзБржпрж╛рзЯрзА ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред

Bash

```bash
npx create-next-app@latest my-next-app
```

ржПржмрж╛рж░ ржкрзНрж░ржЬрзЗржХрзНржЯ ржбрж┐рж░рзЗржХрзНржЯрж░рж┐рждрзЗ ржкрзНрж░ржмрзЗрж╢ ржХрж░рзБржиред

Bash

```bash
cd my-next-app
```

---

### ржзрж╛ржк рзи: ржЯрзЗрж╕рзНржЯрж┐ржВрзЯрзЗрж░ ржЬржирзНржп ржкрзНрж░рзЯрзЛржЬржирзАрзЯ ржкрзНржпрж╛ржХрзЗржЬ ржЗржирж╕рзНржЯрж▓ ржХрж░рзБржи тЪЩя╕П

Next.js ржкрзНрж░ржЬрзЗржХрзНржЯрзЗ ржЯрзЗрж╕рзНржЯрж┐ржВ ржПржиржнрж╛рзЯрж░ржиржорзЗржирзНржЯ рждрзИрж░рж┐рж░ ржЬржирзНржп ржЖржорж╛ржжрзЗрж░ ржХрж┐ржЫрзБ ржбрзЗржнрзЗрж▓ржкрж╛рж░ ржбрж┐ржкрзЗржирзНржбрзЗржирзНрж╕рж┐ (dev dependencies) ржЗржирж╕рзНржЯрж▓ ржХрж░рждрзЗ рж╣ржмрзЗред

Bash

```bash
npm install -D jest jest-environment-jsdom @testing-library/react @testing-library/jest-dom @testing-library/user-event
```

ржПржЦрж╛ржирзЗ ржкрзНржпрж╛ржХрзЗржЬржЧрзБрж▓рзЛрж░ ржнрзВржорж┐ржХрж╛:

- **`jest`**: ржорзВрж▓ ржЯрзЗрж╕рзНржЯрж┐ржВ ржлрзНрж░рзЗржоржУрзЯрж╛рж░рзНржХред
- **`jest-environment-jsdom`**: Jest-ржХрзЗ ржмрзНрж░рж╛ржЙржЬрж╛рж░рзЗрж░ ржорждрзЛ DOM ржПржиржнрж╛рзЯрж░ржиржорзЗржирзНржЯ рж╕рж░ржмрж░рж╛рж╣ ржХрж░рзЗред
- **`@testing-library/react`**: React ржХржорзНржкрзЛржирзЗржирзНржЯ рж░рзЗржирзНржбрж╛рж░ ржПржмржВ ржкрж░рзАржХрзНрж╖рж╛ ржХрж░рж╛рж░ ржорзВрж▓ рж▓рж╛ржЗржмрзНрж░рзЗрж░рж┐ред
- **`@testing-library/jest-dom`**: `toBeInTheDocument()`ржПрж░ ржорждрзЛ ржжрж░ржХрж╛рж░рж┐ DOM ржорзНржпрж╛ржЪрж╛рж░ ржпрзБржХрзНржд ржХрж░рзЗред
- **`@testing-library/user-event`**: ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАрж░ ржЕрзНржпрж╛ржХрж╢ржи (ржХрзНрж▓рж┐ржХ, ржЯрж╛ржЗржкрж┐ржВ) ржЕржирзБржХрж░ржг ржХрж░рж╛рж░ ржЬржирзНржпред

---

### ржзрж╛ржк рзй: Jest ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи ржлрж╛ржЗрж▓ рждрзИрж░рж┐ ржХрж░рзБржи

Next.js-ржПрж░ ржЬржирзНржп Jest ржХржиржлрж┐ржЧрж╛рж░ ржХрж░рж╛ ржЦрзБржмржЗ рж╕рж╣ржЬред ржкрзНрж░ржЬрзЗржХрзНржЯрзЗрж░ рж░рзБржЯ ржлрзЛрж▓рзНржбрж╛рж░рзЗ `jest.config.js` ржирж╛ржорзЗ ржПржХржЯрж┐ ржлрж╛ржЗрж▓ рждрзИрж░рж┐ ржХрж░рзБржи ржПржмржВ ржирж┐ржЪрзЗрж░ ржХрзЛржбржЯрж┐ ржпрзЛржЧ ржХрж░рзБржиред

JavaScript

```jsx
// jest.config.js
const nextJest = require('next/jest');

// `next/jest` ржХрзЗ Next.js-ржПрж░ ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи рж▓рзЛржб ржХрж░рж╛рж░ ржЬржирзНржп ржкрж╛рже ржжрзЗржУрзЯрж╛ рж╣ржЪрзНржЫрзЗ
const createJestConfig = nextJest({
  dir: './',
});

// Jest-ржПрж░ ржЬржирзНржп ржХрж╛рж╕рзНржЯржо ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи
const customJestConfig = {
  setupFilesAfterEnv: ['<rootDir>/jest.setup.js'],
  testEnvironment: 'jest-environment-jsdom',
  moduleNameMapper: {
    // CSS ржоржбрж┐ржЙрж▓ рж╣рзНржпрж╛ржирзНржбрзЗрж▓ ржХрж░рж╛рж░ ржЬржирзНржп
    '^@/components/(.*)$': '<rootDir>/components/$1',
  },
};

// `createJestConfig` ржжрж┐рзЯрзЗ `next/jest`-ржПрж░ ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи ржПржмржВ ржХрж╛рж╕рзНржЯржо ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи ржПржХрж╕рж╛ржерзЗ ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ
module.exports = createJestConfig(customJestConfig);
```

ржПржЗ ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи ржлрж╛ржЗрж▓ржЯрж┐ Next.js-ржПрж░ ржмрж┐рж▓рзНржб рж╕рж┐рж╕рзНржЯрзЗржорзЗрж░ (ржпрзЗржоржи SWC) рж╕рж╛ржерзЗ Jest-ржХрзЗ рж╕ржарж┐ржХржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗред

---

### ржзрж╛ржк рзк: ржЯрзЗрж╕рзНржЯрж┐ржВ рж╕рзЗржЯржЖржк ржлрж╛ржЗрж▓ рждрзИрж░рж┐ ржХрж░рзБржи

`jest.config.js` ржлрж╛ржЗрж▓рзЗ ржЖржорж░рж╛ `setupFilesAfterEnv`-ржПрж░ ржЬржирзНржп ржПржХржЯрж┐ ржкрж╛ржерзЗрж░ ржХржерж╛ ржЙрж▓рзНрж▓рзЗржЦ ржХрж░рзЗржЫрж┐ред ржПржЦржи рж╕рзЗржЗ ржлрж╛ржЗрж▓ржЯрж┐ рждрзИрж░рж┐ ржХрж░рждрзЗ рж╣ржмрзЗред

ржкрзНрж░ржЬрзЗржХрзНржЯрзЗрж░ рж░рзБржЯ ржлрзЛрж▓рзНржбрж╛рж░рзЗ `jest.setup.js` ржирж╛ржорзЗ ржПржХржЯрж┐ ржлрж╛ржЗрж▓ рждрзИрж░рж┐ ржХрж░рзБржи ржПржмржВ ржПрждрзЗ ржирж┐ржЪрзЗрж░ ржХрзЛржбржЯрж┐ ржпрзЛржЧ ржХрж░рзБржи:

JavaScript

```jsx
// jest.setup.js
// ржРржЪрзНржЫрж┐ржХ: ржкрзНрж░рждрж┐ржЯрж┐ ржЯрзЗрж╕рзНржЯрзЗрж░ ржЖржЧрзЗ рж░рж╛ржи ржХрж░рж╛рж░ ржЬржирзНржп ржЧрзНрж▓рзЛржмрж╛рж▓ рж╕рзЗржЯржЖржк

// `@testing-library/jest-dom`-ржПрж░ ржорзНржпрж╛ржЪрж╛рж░ржЧрзБрж▓рзЛ ржЗржорзНржкрзЛрж░рзНржЯ ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ
import '@testing-library/jest-dom';
```

ржПржЗ ржлрж╛ржЗрж▓ржЯрж┐ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзЗ ржпрзЗ, ржЖржкржирж╛рж░ рж╕ржм ржЯрзЗрж╕рзНржЯ ржлрж╛ржЗрж▓рзЗ `toBeInTheDocument()`-ржПрж░ ржорждрзЛ ржорзНржпрж╛ржЪрж╛рж░ржЧрзБрж▓рзЛ ржХрзЛржирзЛ ржЕрждрж┐рж░рж┐ржХрзНржд ржЗржорзНржкрзЛрж░рзНржЯ ржЫрж╛рзЬрж╛ржЗ ржХрж╛ржЬ ржХрж░ржмрзЗред

---

### ржзрж╛ржк рзл: ржкрзНрж░ржержо ржЯрзЗрж╕рзНржЯ рж▓рж┐ржЦрзБржи ЁЯзк

Jest рж╕рж╛ржзрж╛рж░ржгржд `__tests__` ржлрзЛрж▓рзНржбрж╛рж░рзЗрж░ ржнрзЗрждрж░ ржЕржержмрж╛ `.test.js` / `.spec.js` ржПржХрзНрж╕ржЯрзЗржирж╢ржиржпрзБржХрзНржд ржлрж╛ржЗрж▓ржЧрзБрж▓рзЛржХрзЗ ржЯрзЗрж╕рзНржЯ рж╣рж┐рж╕рзЗржмрзЗ ржзрж░рзЗ ржирзЗрзЯред ржЖржорж░рж╛ `__tests__` ржлрзЛрж▓рзНржбрж╛рж░ ржкржжрзНржзрждрж┐ ржЕржирзБрж╕рж░ржг ржХрж░ржмред

**ржЙржжрж╛рж╣рж░ржг рзз: ржПржХржЯрж┐ рж╕рж╛ржзрж╛рж░ржг ржкрзЗржЗржЬ ржЯрзЗрж╕рзНржЯ ржХрж░рж╛**

`app` ржбрж┐рж░рзЗржХрзНржЯрж░рж┐рждрзЗ `__tests__` ржирж╛ржорзЗ ржПржХржЯрж┐ ржлрзЛрж▓рзНржбрж╛рж░ рждрзИрж░рж┐ ржХрж░рзБржиред ржПрж░ ржнрзЗрждрж░рзЗ `Home.test.jsx` ржирж╛ржорзЗ ржПржХржЯрж┐ ржлрж╛ржЗрж▓ рждрзИрж░рж┐ ржХрж░рзЗ ржбрж┐ржлрж▓рзНржЯ рж╣рзЛржо ржкрзЗржЗржЬржЯрж┐ ржЯрзЗрж╕рзНржЯ ржХрж░рж┐ред

JavaScript

```jsx
// app/__tests__/Home.test.jsx
import { render, screen } from '@testing-library/react';
import Home from '../page'; // ржЖржкржирж╛рж░ рж╣рзЛржо ржкрзЗржЗржЬ ржХржорзНржкрзЛржирзЗржирзНржЯ

describe('Home Page', () => {
  it('should render the main heading', () => {
    render(<Home />);

    // `screen.getByRole` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ рж╣рзЗржбрж┐ржВ ржЦрзБржБржЬрзЗ ржмрзЗрж░ ржХрж░рж╛
    const heading = screen.getByRole('heading', {
      name: /Get started by editing/i,
    });

    // рж╣рзЗржбрж┐ржВржЯрж┐ ржбржХрзБржорзЗржирзНржЯрзЗ ржЖржЫрзЗ ржХрж┐ржирж╛ рждрж╛ ржпрж╛ржЪрж╛ржЗ ржХрж░рж╛
    expect(heading).toBeInTheDocument();
  });
});
```

**ржЙржжрж╛рж╣рж░ржг рзи: ржирзЗржнрж┐ржЧрзЗрж╢ржи рж▓рж┐ржВржХрж╕рж╣ ржПржХржЯрж┐ ржХржорзНржкрзЛржирзЗржирзНржЯ ржЯрзЗрж╕рзНржЯ ржХрж░рж╛**

ржЕржирзЗржХ рж╕ржорзЯ ржЖржорж╛ржжрзЗрж░ ржПржоржи ржХржорзНржкрзЛржирзЗржирзНржЯ ржЯрзЗрж╕рзНржЯ ржХрж░рждрзЗ рж╣рзЯ ржпрзЗржЦрж╛ржирзЗ Next.js-ржПрж░ `<Link>` ржХржорзНржкрзЛржирзЗржирзНржЯ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗред

ржкрзНрж░ржержорзЗ, `components` ржлрзЛрж▓рзНржбрж╛рж░рзЗ `Navbar.jsx` ржирж╛ржорзЗ ржПржХржЯрж┐ ржХржорзНржкрзЛржирзЗржирзНржЯ рждрзИрж░рж┐ ржХрж░рзБржиред

JavaScript

```jsx
// components/Navbar.jsx
import Link from 'next/link';

export default function Navbar() {
  return (
    <nav>
      <Link href="/">Home</Link>
      <Link href="/about">About Us</Link>
    </nav>
  );
}
```

ржПржЦржи ржПржЗ `Navbar` ржХржорзНржкрзЛржирзЗржирзНржЯрзЗрж░ ржЬржирзНржп ржПржХржЯрж┐ ржЯрзЗрж╕рзНржЯ рж▓рж┐ржЦрж┐ред `components` ржлрзЛрж▓рзНржбрж╛рж░рзЗрж░ ржнрзЗрждрж░ `__tests__` ржирж╛ржорзЗ ржПржХржЯрж┐ ржлрзЛрж▓рзНржбрж╛рж░ ржПржмржВ ржПрждрзЗ `Navbar.test.jsx` ржлрж╛ржЗрж▓ рждрзИрж░рж┐ ржХрж░рзБржиред

JavaScript

```jsx
// components/__tests__/Navbar.test.jsx
import { render, screen } from '@testing-library/react';
import Navbar from '../Navbar';

describe('Navbar', () => {
  it('should render navigation links correctly', () => {
    render(<Navbar />);

    // "Home" рж▓рж┐ржВржХржЯрж┐ ржЦрзБржБржЬрзЗ ржмрзЗрж░ ржХрж░рж╛
    const homeLink = screen.getByRole('link', { name: /home/i });
    // "About Us" рж▓рж┐ржВржХржЯрж┐ ржЦрзБржБржЬрзЗ ржмрзЗрж░ ржХрж░рж╛
    const aboutLink = screen.getByRole('link', { name: /about us/i });

    // рж▓рж┐ржВржХржЧрзБрж▓рзЛ ржбржХрзБржорзЗржирзНржЯрзЗ ржЖржЫрзЗ ржХрж┐ржирж╛ ржпрж╛ржЪрж╛ржЗ ржХрж░рж╛
    expect(homeLink).toBeInTheDocument();
    expect(aboutLink).toBeInTheDocument();

    // рж▓рж┐ржВржХржЧрзБрж▓рзЛрж░ `href` ржЕрзНржпрж╛ржЯрзНрж░рж┐ржмрж┐ржЙржЯ рж╕ржарж┐ржХ ржХрж┐ржирж╛ рждрж╛ ржпрж╛ржЪрж╛ржЗ ржХрж░рж╛
    expect(homeLink).toHaveAttribute('href', '/');
    expect(aboutLink).toHaveAttribute('href', '/about');
  });
});
```

---

### ржзрж╛ржк рзм: ржЯрзЗрж╕рзНржЯ ржЪрж╛рж▓рж╛ржи тЬЕ

рж╕ржмрж╢рзЗрж╖рзЗ, ржЖржкржирж╛рж░ `package.json` ржлрж╛ржЗрж▓ржЯрж┐ ржЦрзБрж▓рзБржи ржПржмржВ `scripts` рж╕рзЗржХрж╢ржирзЗ ржЯрзЗрж╕рзНржЯ ржХржорж╛ржирзНржб ржпрзЛржЧ ржХрж░рзБржиред

JSON

```jsx
// package.json
"scripts": {
  "dev": "next dev",
  "build": "next build",
  "start": "next start",
  "lint": "next lint",
  "test": "jest",
  "test:watch": "jest --watch"
},
```

ржПржмрж╛рж░ ржЯрж╛рж░рзНржорж┐ржирж╛рж▓рзЗ ржирж┐ржЪрзЗрж░ ржХржорж╛ржирзНржбржЯрж┐ ржЪрж╛рж▓рж╛рж▓рзЗржЗ ржЖржкржирж╛рж░ рж▓рзЗржЦрж╛ рж╕ржм ржЯрзЗрж╕рзНржЯ рж░рж╛ржи ржХрж░ржмрзЗред

Bash

```jsx
npm test
```

ржлрж╛ржЗрж▓ ржкрж░рж┐ржмрж░рзНрждржирзЗрж░ рж╕рж╛ржерзЗ рж╕рж╛ржерзЗ ржЯрзЗрж╕рзНржЯржЧрзБрж▓рзЛ рж╕рзНржмрзЯржВржХрзНрж░рж┐рзЯржнрж╛ржмрзЗ ржЪрж╛рж▓рж╛рждрзЗ ржЪрж╛ржЗрж▓рзЗ watch mode ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи:

Bash

```jsx
npm run test:watch
```

ржЕржнрж┐ржиржирзНржжржи! ржЖржкржирж┐ рж╕ржлрж▓ржнрж╛ржмрзЗ ржЖржкржирж╛рж░ Next.js ржкрзНрж░ржЬрзЗржХрзНржЯрзЗ Jest ржПржмржВ React Testing Library ржжрж┐рзЯрзЗ ржЯрзЗрж╕рзНржЯрж┐ржВ ржкрж░рж┐ржмрзЗрж╢ рж╕рзЗржЯржЖржк ржХрж░рзЗ ржлрзЗрж▓рзЗржЫрзЗржиред